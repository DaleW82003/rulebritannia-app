<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rule Britannia — Constituencies</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body class="theme-commons" data-page="constituencies">

<header class="topbar">
  <div class="topbar-inner">
    <div class="brand">
      <img class="logo" src="./assets/RB%20Logo.png" alt="Rule Britannia">
    </div>

<nav class="nav" aria-label="Main Navigation">
      <a href="dashboard.html" class="nav-link">Office</a>

      <div class="nav-group">
        <button class="nav-toggle" type="button">The U.K ▾</button>
        <div class="dropdown">
          <a href="news.html">News</a>
          <a href="papers.html">Papers</a>
          <a href="economy.html">Economy</a>
          <a href="constituencies.html">Constituencies</a>
          <a href="bodies.html">Bodies</a>
          <a href="locals.html">Locals</a>
        </div>
      </div>

      <div class="nav-group">
        <button class="nav-toggle" type="button">Parliament ▾</button>
        <div class="dropdown">
          <a href="submit-bill.html">Submit a Bill</a>
          <a href="questiontime.html">Question Time</a>
          <a href="statements.html">Statements</a>
          <a href="motions.html">Motions</a>
          <a href="regulations.html">Regulations</a>
          <a href="redlion.html">Red Lion</a>
          <a href="debates.html">Debates</a>
          <a href="hansard.html">Hansard</a>
        </div>
      </div>

      <div class="nav-group">
        <button class="nav-toggle" type="button">Politics ▾</button>
        <div class="dropdown">
          <a href="press.html">Press</a>
          <a href="party.html">Party</a>
          <a href="polling.html">Polling</a>
          <a href="elections.html">Elections</a>
          <a href="constituency-work.html">Constituency Work</a>
          <a href="events.html">Events</a>
          <a href="fundraising.html">Fundraising</a>
          <a href="online.html">Online</a>
        </div>
      </div>

      <div class="nav-group">
        <button class="nav-toggle" type="button">Policy ▾</button>
        <div class="dropdown">
          <a href="government.html">Government</a>
          <a href="opposition.html">Opposition</a>
          <a href="budget.html">Budget</a>
          <a href="civilservice.html">Civil Service</a>
          <a href="cabinet.html">Cabinet</a>
          <a href="shadowcabinet.html">Shadow Cabinet</a>
        </div>
      </div>

      <div class="nav-group">
        <button class="nav-toggle" type="button">Personal ▾</button>
        <div class="dropdown">
          <a href="personal.html">Personal</a>
          <a href="user.html">User</a>
          <a href="team.html">A Team</a>
          <a href="rules.html">Rules</a>
          <a href="guides.html">Guides</a>
        </div>
      </div>

      <div class="nav-group">
        <button class="nav-toggle" type="button">External ▾</button>
        <div class="dropdown">
          <a href="https://forum.rulebritannia.org" target="_blank" rel="noopener">Discourse Forum</a>
          <a href="https://discord.com" target="_blank" rel="noopener">Discord</a>
        </div>
      </div>
      <a href="login.html" class="nav-link">Admin Login</a>
    </nav>
  </div>
</header>

<main class="wrap">

  <div class="bbc-masthead">
    <div class="bbc-title">Constituencies</div>
  </div>

  <section class="panel">
    <div class="spaced">
      <h2 style="margin:0;">State of Parliament</h2>
      <div class="tile-bottom" style="padding-top:0; margin-top:0;">
        <button class="btn" type="button" id="constituencyEditorBtn" style="display:none;">Parliament Control Panel</button>
      </div>
    </div>
    <div id="parliament-summary">Loading…</div>
  </section>

  <section class="panel" style="margin-top:14px;">
    <h2>Parties</h2>
    <div id="party-seats">Loading…</div>
  </section>

  <section class="panel" id="partyConstituencyPanel" style="display:none; margin-top:14px;">
    <div class="spaced">
      <h2 style="margin:0;" id="partyConstituencyTitle">Constituencies</h2>
      <button class="btn" type="button" id="partyConstituencyClose">Close</button>
    </div>
    <div id="partyConstituencyList"></div>
  </section>

  <section class="panel" id="constituencyEditorPanel" style="display:none; margin-top:14px;">
    <h2>Parliament Control Panel</h2>

    <h3>Parliament Setup</h3>
    <div id="parliamentSetupForm" class="muted-block" style="margin-bottom:16px;">Loading…</div>

    <h3>Constituency Management</h3>
    <div class="muted-block" style="margin-bottom:12px;">Add/edit/remove constituencies and assign MPs (Character/NPC). Constituencies with any MP are unavailable for character creation.</div>
    <div class="tile-bottom" style="padding-top:0; margin-top:0; margin-bottom:10px;">
      <button class="btn" type="button" id="constituencySeed650">Generate 650 Constituencies (1997 template)</button>
    </div>
    <form id="constEditorForm" class="form-grid">
      <input id="constId" type="hidden">

      <label for="constName">Constituency Name</label>
      <input id="constName" type="text" maxlength="120" required>

      <label for="constNation">Nation</label>
      <select id="constNation" required>
        <option value="England">England</option>
        <option value="Scotland">Scotland</option>
        <option value="Wales">Wales</option>
        <option value="Northern Ireland">Northern Ireland</option>
      </select>

      <label for="constRegion">Region</label>
      <input id="constRegion" type="text" maxlength="120" required>

      <label for="constParty">Party Holding</label>
      <select id="constParty" required></select>

      <label for="constMpType">MP Type</label>
      <select id="constMpType">
        <option value="">Available (no MP)</option>
        <option value="character">Character</option>
        <option value="npc">NPC</option>
      </select>

      <label for="constMpName">MP Name (character or NPC)</label>
      <input id="constMpName" type="text" maxlength="120" placeholder="Leave blank if seat is open">

      <div></div>
      <div class="tile-bottom" style="padding-top:0; margin-top:0;">
        <button class="btn primary" type="submit">Add Constituency</button>
        <button class="btn" type="button" id="constEditorReset">Reset</button>
      </div>
    </form>

    <hr>
    <div id="constEditorList" class="docket-list"></div>
  </section>

</main>

<script type="module" src="./js/main.js"></script>

</body>
</html>
